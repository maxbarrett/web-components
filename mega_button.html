<template id="megaButton">
	<style>
		/*These styles are not applied to innerHTML content*/
		:host { text-align:center; border:5px solid red; background:aqua; padding:10px; margin:0; }
	</style>

	<content>
		<!-- Content between <button is="mega-button">...</button> tags will appear here -->
	</content>
</template>

<script>

var myButton = {
	buttonPrototype : Object.create(HTMLElement.prototype),
	importDoc : document.currentScript.ownerDocument,
}

myButton.buttonPrototype.createdCallback = function() {
	// grab <template> above
	var template = myButton.importDoc.querySelector('#megaButton');

	// https://developer.mozilla.org/en-US/docs/Web/API/Document/importNode
	var clone = document.importNode(template.content, true);

	// this = <mega-button> element
	// Create shadow root and put <template> into <mega-button>
	this.createShadowRoot().appendChild(clone);

	// Add event listener
	this.addEventListener('click', function(e) {
		console.log('Mega button clicked');
	});
};

// Register mega-button definition:
var MegaButton = document.registerElement('mega-button', {
	prototype: myButton.buttonPrototype,
	extends: 'button'
});



// Instantiate a new mega-button:
myButton.mb = new MegaButton();

// An example of creating 'dynamic' content:
myButton.mb.innerHTML = "<b>Dynamic content, in the element's Shadow DOM</b>";

// Add it to the page:
document.body.appendChild(myButton.mb);




</script>
